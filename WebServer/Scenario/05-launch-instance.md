## インスタンスの起動
この操作では、実際にAWS上に、EC2インスタンスを起動させます。

### インスタンスの作成

左部リストの「インスタンス」をクリックし、EC2インスタンス一覧画面を開きます。

[![https://gyazo.com/867f72d3476ea18384a9ef58f5aa0393](https://i.gyazo.com/867f72d3476ea18384a9ef58f5aa0393.png)](https://gyazo.com/867f72d3476ea18384a9ef58f5aa0393)

EC2インスタンス一覧の左上部分にある「インスタンスの作成」ボタンをクリックし、インスタンスの起動ウィザードを開きます。

#### 1 .AMIの選択

「ステップ 1: Amazon マシンイメージ（AMI）」画面にて、AMIを選択します。  
本シナリオでは、「Amazon Linux」を使用します。  
*(注意)*　AMIによっては、無料利用枠期間内でも月額使用料が発生します。

[![https://gyazo.com/9fb835ae81a1f808d80ad6711439b5b7](https://i.gyazo.com/9fb835ae81a1f808d80ad6711439b5b7.png)](https://gyazo.com/9fb835ae81a1f808d80ad6711439b5b7)

「Amazon Linux AMI 2015.09.1 (HVM), SSD Volume Type」の右にある「選択」ボタンをクリックします。

#### 2. インスタンスタイプの選択

「ステップ 2: インスタンスタイプの選択」画面にて、作成するEC2インスタンスタイプを選択します。  
本シナリオでは、t2.microを使用します。  
*(注意)*　t2.micro以外では、無料利用枠期間内でも月額使用料が発生します。

[![https://gyazo.com/eef25656d82049d22c36600a2539c9b1](https://i.gyazo.com/eef25656d82049d22c36600a2539c9b1.png)](https://gyazo.com/eef25656d82049d22c36600a2539c9b1)
「t2.micro」を選択し、右下部分にある「次の手順：インスタンスの詳細の設定」ボタンをクリックします。  

#### 3. インスタンスの設定

「ステップ 3: インスタンスの詳細の設定」画面にて、作成するEC2インスタンスを設定します。  
こちらの設定画面にて、下記情報を入力します。
（なお、入力値は任意のものであっても問題ありません。）

| 項目 | 設定値 |
| :------------ | :------------- |
| インスタンス数 | 1 |
| 購入オプション | チェックしない |
| ネットワーク | 作成したVPCを選択 |
| サブネット | 作成したサブネットを選択 |
| 自動割り当てパブリックIP | 有効化を選択 |
| IAMロール | なし |
| シャットダウン動作 | 停止 |
| 削除保護の有効化 | チェックしない |
| モニタリング | チェックしない |
| テナンシー | 共有 - 共有ハードウェアインスタンスの実行 |


[![https://gyazo.com/ade17be07a567445157ff660b589a3c4](https://i.gyazo.com/ade17be07a567445157ff660b589a3c4.png)](https://gyazo.com/ade17be07a567445157ff660b589a3c4)

入力完了後、右下部分にある「次の手順：ストレージの追加」ボタンをクリックします。

#### 4. ストレージの追加

「ステップ 4: ストレージの追加」画面にて、作成するEC2インスタンスにストレージを追加します。
こちらの設定画面にて、下記情報を入力します。
（なお、入力値は任意のものであっても問題ありません。）

| 項目 | 設定値 |
| :-------------- | :--------------- |
| サイズ (GiB) | 8 |
| ボリュームタイプ | 汎用(SSD) |
| 合わせて削除 | チェックを入れる |
	
[![https://gyazo.com/0a1b883a3f504e39b2d19b4586c95bbd](https://i.gyazo.com/0a1b883a3f504e39b2d19b4586c95bbd.png)](https://gyazo.com/0a1b883a3f504e39b2d19b4586c95bbd)

入力完了後、右下部分にある「次の手順：インスタンスのタグ付け」ボタンをクリックします。

#### 5. インスタンスのタグ付け
「ステップ 5: インスタンスのタグ付け」画面にて、作成するEC2インスタンスにタグを追加します。

こちらの設定画面にて、下記情報を入力します。  
※本シナリオでは、XXの部分は自身のユーザ名の下二ケタを設定してください。  
（なお、入力値は任意のものであっても問題ありません。）

| 項目 | 設定値 |
| :-------------- | :--------------- |
| キー | NAME |
| 値 | Instance_userXX |

[![https://gyazo.com/36f7213e2c654749daa349be44215c99](https://i.gyazo.com/36f7213e2c654749daa349be44215c99.png)](https://gyazo.com/36f7213e2c654749daa349be44215c99)

入力完了後、右下部分にある「次の手順：セキュリティグループの設定」ボタンをクリックします。

#### 6. セキュリティグループの設定
「ステップ 6: セキュリティグループの設定」画面にて、作成するEC2インスタンスのセキュリティグループの設定を行います。

上部の「既存のセキュリティグループを選択する」を選択します。
そして、下部のリストから先ほど作成したセキュリティグループを選択してください。

[![https://gyazo.com/76e0328ddcd54a71096849a6fb1786ca](https://i.gyazo.com/76e0328ddcd54a71096849a6fb1786ca.png)](https://gyazo.com/76e0328ddcd54a71096849a6fb1786ca)

選択後、右下部分にある「確認と作成」ボタンをクリックします。

#### 7. 確認
「ステップ7: インスタンス作成の確認」画面にて、今まで行った設定の確認を行います。

[![https://gyazo.com/58aee4d4b4d3e2c92408e0feb55ec1c4](https://i.gyazo.com/58aee4d4b4d3e2c92408e0feb55ec1c4.png)](https://gyazo.com/58aee4d4b4d3e2c92408e0feb55ec1c4)

*(重要)* 本ハンズオンでは、一旦作業をこちらで止めいていただき、  
クラウド管理者に設定内容に問題がないか確認してもらってください。  

確認完了後、右下部分にある「作成」ボタンをクリックし、キーペア設定ウィザードを開きます。

#### キーペアの設定
キーペアの設定を行います。

こちらの設定ウィザードにて、下記情報を選択します。  

| 設定値 |
| :------------|
| 既存のキーペア |
| 作成したキーペア名を選択 | 
| チェックを入れる |

[![https://gyazo.com/d95e975f4b2285f29aded8079f179de5](https://i.gyazo.com/d95e975f4b2285f29aded8079f179de5.png)](https://gyazo.com/d95e975f4b2285f29aded8079f179de5)

設定完了後、右下部分にある「インスタンスの作成」ボタンをクリックし、インスタンスを作成します。

「作成ステータス」画面にて、「インスタンスは現在作成中です」というメッセージが出ていれば、作成完了になります。

[![https://gyazo.com/c912d31c04deea0d53e5642b9ad15cc6](https://i.gyazo.com/c912d31c04deea0d53e5642b9ad15cc6.png)](https://gyazo.com/c912d31c04deea0d53e5642b9ad15cc6)

i-から始まるインスタンスIDをクリックし、EC2インスタンス一覧画面に戻ります。

ステータスチェックにチェックが入れば、インスタンスの作成と起動が完了となります。  
完了まで数分程度かかりますので、それまでにEIPの設定を行います。


### EIP設定

作成したEC2インスタンスにはすでにパブリックIPは付与されているのですが、  
インスタンスの起動停止毎にIPが変わってしまうため、  
ElasticIPを設定し、パブリックIPを固定化します。

#### アドレスの割り当て
左部リストの「Elastic IP」をクリックし、EIP一覧画面を開きます。

[![https://gyazo.com/ffe53afc76107d84d3cf2fcf7940baf6](https://i.gyazo.com/ffe53afc76107d84d3cf2fcf7940baf6.png)](https://gyazo.com/ffe53afc76107d84d3cf2fcf7940baf6)

左上部分の「新しいアドレスの割り当て」ボタンをクリックし、  
その後の画面にて「関連付ける」をクリックします。

[![https://gyazo.com/b258f24adf0e35897e8f0bf57eaa9503](https://i.gyazo.com/b258f24adf0e35897e8f0bf57eaa9503.png)](https://gyazo.com/b258f24adf0e35897e8f0bf57eaa9503)

クリックすると、パブリックIPが割り当てられます。  
*(重要)* 割り当てられたパブリックIPアドレスをメモを取るなどをしてください。  
(今回のハンズオンは複数人で行っているため、この後の作業で自分が取得したパブリックIPアドレスがどれなのかを確認するために必要になります。)

[![https://gyazo.com/a1e208de09d061beb8262c8f8029456f](https://i.gyazo.com/a1e208de09d061beb8262c8f8029456f.png)](https://gyazo.com/a1e208de09d061beb8262c8f8029456f)

#### アドレスの関連付け
一覧画面の左上部分にある「アクション」ボタンをクリックし、「アドレスの関連付け」クリックします。

[![https://gyazo.com/7cdb48c7a991567315f4c952d72c0ab4](https://i.gyazo.com/7cdb48c7a991567315f4c952d72c0ab4.png)](https://gyazo.com/7cdb48c7a991567315f4c952d72c0ab4)

クリック後に開いた設定画面にて、  
インスタンスの部分に先ほど作成したEC2インスタンスを選択し、右下の「関連付ける」ボタンをクリックします。

[![https://gyazo.com/b842ab8f57d44181188534dc0ca8f08d](https://i.gyazo.com/b842ab8f57d44181188534dc0ca8f08d.png)](https://gyazo.com/b842ab8f57d44181188534dc0ca8f08d)

ボタンをクリックすると、EIP一覧画面に戻ります。  
一覧画面にて、割り当てたEIPに作成したEC2インスタンスが紐づけられていることを確認して、EIPの設定は完了になります。

[![https://gyazo.com/e24655b71d6673059162bbe21359c498](https://i.gyazo.com/e24655b71d6673059162bbe21359c498.png)](https://gyazo.com/e24655b71d6673059162bbe21359c498)


### インスタンスの状態確認
EIPの設定も完了しましたので、先ほど作成したEC2インスタンスの状態を確認します。

左部リストの「インスタンス」をクリックし、EC2インスタンス一覧画面を開きます。 

[![https://gyazo.com/c7e950a39c51a4a74ee11591861d1aa0](https://i.gyazo.com/c7e950a39c51a4a74ee11591861d1aa0.png)](https://gyazo.com/c7e950a39c51a4a74ee11591861d1aa0)

EC2インスタンスのステータスチェックに緑色のチェックマークが入っており、  
かつ下部のElasticIP欄に先ほど関連付けしたIPアドレスが設定されていることを確認できれば、設定＋起動完了になります。  
````
赤色の×マークになっている場合は、クラウド管理者に問い合わせてください。
````

[次：インスタンスVMでの作業（例） ](https://github.com/yoshirako/aws-handson-scenario/blob/master/WebServer/Scenario/06-Configuring-WebServer-with-vm.md)
